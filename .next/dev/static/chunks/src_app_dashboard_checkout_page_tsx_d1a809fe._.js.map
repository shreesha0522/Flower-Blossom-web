{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/dashboard/checkout/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useCart } from \"@/app/context/CartContext\";\n\n\nexport default function CheckoutPage() {\n  const router = useRouter();\n  const { cart, clearCart } = useCart();\n\n  // Shipping Info State\n  const [name, setName] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [deliveryTime, setDeliveryTime] = useState(\"Morning\");\n\n  // Payment State\n  const [paymentMethod, setPaymentMethod] = useState(\"esewa\");\n  const [processing, setProcessing] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const subtotal = cart.reduce(\n    (sum, item) => sum + (item.discountedPrice || item.price) * (item.quantity || 1),\n    0\n  );\n  const delivery = 500;\n  const total = subtotal + delivery;\n\n  const handlePayment = () => {\n    if (!name || !phone || !location) {\n      alert(\"Please fill all shipping details!\");\n      return;\n    }\n\n    setProcessing(true);\n    setTimeout(() => {\n      setProcessing(false);\n      setSuccess(true);\n\n      // Clear cart on successful payment\n      clearCart();\n\n      // Redirect to dashboard after 2s\n      setTimeout(() => {\n        router.push(\"/dashboard\");\n      }, 2000);\n    }, 2000); // simulate 2s payment processing\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Checkout</h1>\n\n      {/* Total Summary */}\n      <div className=\"bg-white rounded-xl p-6 mb-6 border border-pink-100 max-w-2xl mx-auto space-y-2\">\n        <h2 className=\"text-xl font-bold mb-2\">Order Summary</h2>\n        <div className=\"flex justify-between text-gray-600\">\n          <span>Subtotal</span>\n          <span>Rs {subtotal.toLocaleString()}</span>\n        </div>\n        <div className=\"flex justify-between text-gray-600\">\n          <span>Delivery</span>\n          <span>Rs {delivery.toLocaleString()}</span>\n        </div>\n        <hr className=\"border-pink-100 my-2\" />\n        <div className=\"flex justify-between text-lg font-bold text-gray-800\">\n          <span>Total</span>\n          <span className=\"text-pink-500\">Rs {total.toLocaleString()}</span>\n        </div>\n      </div>\n\n      {/* Shipping Info */}\n      <div className=\"bg-white rounded-xl p-6 mb-6 border border-pink-100 max-w-2xl mx-auto space-y-4\">\n        <h2 className=\"text-xl font-bold mb-4\">Shipping Information</h2>\n        <div className=\"space-y-3\">\n          <input\n            type=\"text\"\n            placeholder=\"Full Name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            className=\"w-full px-4 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500\"\n          />\n          <input\n            type=\"tel\"\n            placeholder=\"Phone Number\"\n            value={phone}\n            onChange={(e) => setPhone(e.target.value)}\n            className=\"w-full px-4 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500\"\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Location / Address\"\n            value={location}\n            onChange={(e) => setLocation(e.target.value)}\n            className=\"w-full px-4 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500\"\n          />\n          <select\n            value={deliveryTime}\n            onChange={(e) => setDeliveryTime(e.target.value)}\n            className=\"w-full px-4 py-2 border border-pink-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500\"\n          >\n            <option value=\"Morning\">Morning (8AM - 12PM)</option>\n            <option value=\"Afternoon\">Afternoon (12PM - 4PM)</option>\n            <option value=\"Evening\">Evening (4PM - 8PM)</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Payment Section */}\n      <div className=\"bg-white rounded-xl p-6 border border-pink-100 max-w-2xl mx-auto space-y-4\">\n        <h2 className=\"text-xl font-bold mb-4\">Payment Method</h2>\n        <div className=\"flex flex-col gap-3\">\n          <label className=\"flex items-center gap-3\">\n            <input\n              type=\"radio\"\n              name=\"payment\"\n              value=\"esewa\"\n              checked={paymentMethod === \"esewa\"}\n              onChange={(e) => setPaymentMethod(e.target.value)}\n              className=\"accent-pink-500\"\n            />\n            eSewa\n          </label>\n          <label className=\"flex items-center gap-3\">\n            <input\n              type=\"radio\"\n              name=\"payment\"\n              value=\"khalti\"\n              checked={paymentMethod === \"khalti\"}\n              onChange={(e) => setPaymentMethod(e.target.value)}\n              className=\"accent-pink-500\"\n            />\n            Khalti\n          </label>\n        </div>\n\n        {/* Payment Button */}\n        <button\n          onClick={handlePayment}\n          disabled={processing || success}\n          className={`w-full py-3 px-4 mt-4 rounded-full text-white font-semibold ${\n            processing || success ? \"bg-gray-400 cursor-not-allowed\" : \"bg-pink-500 hover:bg-pink-600\"\n          } transition`}\n        >\n          {processing\n            ? \"Processing...\"\n            : success\n            ? \"Payment Successful!\"\n            : \"Pay & Place Order\"}\n        </button>\n\n        {success && (\n          <p className=\"mt-3 text-green-600 font-semibold text-center\">\n            Payment Successful! Redirecting to Dashboard...\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}