{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/user/profile/schema.ts"],"sourcesContent":["import { z } from \"zod\";\n\n// Profile Update Schema\nexport const profileSchema = z.object({\n  name: z\n    .string()\n    .min(2, \"Name must be at least 2 characters\")\n    .max(50, \"Name must be less than 50 characters\"),\n  email: z\n    .string()\n    .min(1, \"Email is required\")\n    .email(\"Invalid email address\"),\n  bio: z\n    .string()\n    .max(500, \"Bio must be less than 500 characters\")\n    .optional(),\n  phone: z\n    .string()\n    .regex(/^[0-9]{10}$/, \"Phone number must be 10 digits\")\n    .optional()\n    .or(z.literal(\"\")),\n  image: z\n    .instanceof(File)\n    .refine((file) => file.size <= 5 * 1024 * 1024, \"Image must be less than 5MB\")\n    .refine(\n      (file) => [\"image/jpeg\", \"image/jpg\", \"image/png\", \"image/gif\", \"image/webp\"].includes(file.type),\n      \"Only JPG, PNG, GIF, and WebP formats are allowed\"\n    )\n    .optional()\n    .or(z.literal(null)),\n});\n\n// TypeScript type for form data\nexport type ProfileData = z.infer<typeof profileSchema>;\n\n// Type for API response\nexport interface ProfileUpdateResponse {\n  success: boolean;\n  message?: string;\n  data?: {\n    id: string;\n    name: string;\n    email: string;\n    bio?: string;\n    phone?: string;\n    image?: string;\n  };\n}"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,gBAAgB,kLAAC,CAAC,MAAM,CAAC;IACpC,MAAM,kLAAC,CACJ,MAAM,GACN,GAAG,CAAC,GAAG,sCACP,GAAG,CAAC,IAAI;IACX,OAAO,kLAAC,CACL,MAAM,GACN,GAAG,CAAC,GAAG,qBACP,KAAK,CAAC;IACT,KAAK,kLAAC,CACH,MAAM,GACN,GAAG,CAAC,KAAK,wCACT,QAAQ;IACX,OAAO,kLAAC,CACL,MAAM,GACN,KAAK,CAAC,eAAe,kCACrB,QAAQ,GACR,EAAE,CAAC,kLAAC,CAAC,OAAO,CAAC;IAChB,OAAO,kLAAC,CACL,UAAU,CAAC,MACX,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,IAAI,IAAI,OAAO,MAAM,+BAC/C,MAAM,CACL,CAAC,OAAS;YAAC;YAAc;YAAa;YAAa;YAAa;SAAa,CAAC,QAAQ,CAAC,KAAK,IAAI,GAChG,oDAED,QAAQ,GACR,EAAE,CAAC,kLAAC,CAAC,OAAO,CAAC;AAClB"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/lib/action/profile-action.ts"],"sourcesContent":["\"use server\";\n\nimport { ProfileUpdateResponse } from \"@/app/(public)/user/profile/schema\";\n\n/**\n * Update user profile with image upload\n * This function sends FormData to the backend API (Multer support)\n * Endpoint: PUT /api/auth/:id\n */\nexport async function handleUpdateProfile(\n  userId: string,\n  formData: FormData\n): Promise<ProfileUpdateResponse> {\n  try {\n    // Get the backend API URL from environment variable\n    const apiUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000\";\n\n    // Make PUT request to backend with FormData\n    const response = await fetch(`${apiUrl}/api/auth/${userId}`, {\n      method: \"PUT\",\n      body: formData, // Send as FormData (Multer requirement)\n      credentials: \"include\", // Include cookies for authentication\n      // NOTE: Don't set Content-Type header - browser will set it automatically with boundary\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || \"Failed to update profile\",\n      };\n    }\n\n    return {\n      success: true,\n      message: data.message || \"Profile updated successfully\",\n      data: data.data || data.user,\n    };\n  } catch (error: any) {\n    console.error(\"Profile update error:\", error);\n    return {\n      success: false,\n      message: error.message || \"An error occurred while updating profile\",\n    };\n  }\n}\n\n/**\n * Get current user profile\n * Endpoint: GET /api/auth/profile or GET /api/auth/:id\n */\nexport async function getCurrentUserProfile(\n  userId: string\n): Promise<ProfileUpdateResponse> {\n  try {\n    const apiUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000\";\n\n    const response = await fetch(`${apiUrl}/api/auth/${userId}`, {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      cache: \"no-store\", // Don't cache user data\n    });\n\n    const data = await response.json();\n\n    if (!response.ok) {\n      return {\n        success: false,\n        message: data.message || \"Failed to fetch profile\",\n      };\n    }\n\n    return {\n      success: true,\n      data: data.data || data.user,\n    };\n  } catch (error: any) {\n    console.error(\"Fetch profile error:\", error);\n    return {\n      success: false,\n      message: error.message || \"An error occurred while fetching profile\",\n    };\n  }\n}"],"names":[],"mappings":";;;;;;;MASsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,uDAAA"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/user/profile/_components/ProfileForm.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\"use client\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useState, useTransition, useRef, ChangeEvent } from \"react\";\nimport Image from \"next/image\";\nimport { ProfileData, profileSchema } from \"../schema\";\nimport { handleUpdateProfile } from \"@/lib/action/profile-action\";\n\ninterface ProfileFormProps {\n  userId: string;\n  initialData?: {\n    name?: string;\n    email?: string;\n    bio?: string;\n    phone?: string;\n    image?: string;\n  };\n}\n\nexport default function ProfileForm({ userId, initialData }: ProfileFormProps) {\n  const [pending, startTransition] = useTransition();\n  const [error, setError] = useState<string>(\"\");\n  const [success, setSuccess] = useState<string>(\"\");\n  const [imagePreview, setImagePreview] = useState<string>(\n    initialData?.image || \"/images/default-avatar.png\"\n  );\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<ProfileData>({\n    resolver: zodResolver(profileSchema),\n    mode: \"onSubmit\",\n    defaultValues: {\n      name: initialData?.name || \"\",\n      email: initialData?.email || \"\",\n      bio: initialData?.bio || \"\",\n      phone: initialData?.phone || \"\",\n    },\n  });\n\n  const handleImageChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setError(\"\");\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    const validTypes = [\"image/jpeg\", \"image/jpg\", \"image/png\", \"image/gif\", \"image/webp\"];\n    if (!validTypes.includes(file.type)) {\n      setError(\"Please select a valid image file (JPG, PNG, GIF, or WebP)\");\n      return;\n    }\n\n    if (file.size > 5 * 1024 * 1024) {\n      setError(\"Image size must be less than 5MB\");\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImagePreview(reader.result as string);\n    };\n    reader.readAsDataURL(file);\n    setSelectedFile(file);\n  };\n\n  const handleRemoveImage = () => {\n    setImagePreview(initialData?.image || \"/images/default-avatar.png\");\n    setSelectedFile(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const onSubmit = async (data: ProfileData) => {\n    setError(\"\");\n    setSuccess(\"\");\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", data.name);\n      formData.append(\"email\", data.email);\n      \n      if (data.bio) {\n        formData.append(\"bio\", data.bio);\n      }\n      \n      if (data.phone) {\n        formData.append(\"phone\", data.phone);\n      }\n\n      if (selectedFile) {\n        formData.append(\"image\", selectedFile);\n      }\n\n      const res = await handleUpdateProfile(userId, formData);\n      if (!res.success) {\n        throw new Error(res.message || \"Profile update failed\");\n      }\n\n      setSuccess(res.message || \"Profile updated successfully!\");\n      \n      if (res.data?.image) {\n        setImagePreview(res.data.image);\n      }\n\n      setSelectedFile(null);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\";\n      }\n    } catch (err: any) {\n      setError(err?.message || \"Profile update failed\");\n    }\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit(onSubmit)}\n      className=\"space-y-6 p-6 bg-white rounded-lg shadow-md w-full max-w-2xl mx-auto\"\n    >\n      <h2 className=\"text-2xl font-semibold text-gray-800 text-center\">\n        üå∏ Update Your Profile üå∏\n      </h2>\n\n      {error && (\n        <div className=\"p-3 bg-red-50 border border-red-200 rounded-md\">\n          <p className=\"text-sm text-red-600\">{error}</p>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"p-3 bg-green-50 border border-green-200 rounded-md\">\n          <p className=\"text-sm text-green-600\">{success}</p>\n        </div>\n      )}\n\n      <div className=\"flex flex-col items-center space-y-4\">\n        <div className=\"relative group\">\n          <div className=\"relative w-32 h-32 rounded-full overflow-hidden border-4 border-pink-200 shadow-lg\">\n            <Image\n              src={imagePreview}\n              alt=\"Profile Picture\"\n              fill\n              className=\"object-cover\"\n              priority\n            />\n          </div>\n          <div\n            onClick={() => fileInputRef.current?.click()}\n            className=\"absolute inset-0 bg-black bg-opacity-50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center cursor-pointer\"\n          >\n            <span className=\"text-white text-xs font-medium\">Change Photo</span>\n          </div>\n        </div>\n\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/jpeg,image/jpg,image/png,image/gif,image/webp\"\n          onChange={handleImageChange}\n          className=\"hidden\"\n        />\n\n        <div className=\"flex gap-2\">\n          <button\n            type=\"button\"\n            onClick={() => fileInputRef.current?.click()}\n            className=\"px-4 py-2 text-xs rounded-md bg-pink-100 text-pink-600 font-medium hover:bg-pink-200 transition-colors\"\n          >\n            üìÅ Choose Photo\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleRemoveImage}\n            className=\"px-4 py-2 text-xs rounded-md bg-gray-100 text-gray-600 font-medium hover:bg-gray-200 transition-colors\"\n            disabled={!selectedFile}\n          >\n            üóëÔ∏è Remove\n          </button>\n        </div>\n        <p className=\"text-xs text-gray-500 text-center\">\n          JPG, PNG, GIF, or WebP (Max 5MB)\n        </p>\n      </div>\n\n      <div className=\"space-y-1\">\n        <label htmlFor=\"name\" className=\"text-sm font-medium text-gray-700\">\n          Full Name <span className=\"text-red-500\">*</span>\n        </label>\n        <input\n          id=\"name\"\n          type=\"text\"\n          placeholder=\"Enter your full name\"\n          className=\"h-10 w-full rounded-md border border-gray-300 bg-gray-50 px-3 text-sm outline-none focus:border-pink-400 focus:ring-1 focus:ring-pink-400\"\n          {...register(\"name\")}\n        />\n        {errors.name && (\n          <p className=\"text-xs text-red-600\">{errors.name.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-1\">\n        <label htmlFor=\"email\" className=\"text-sm font-medium text-gray-700\">\n          Email <span className=\"text-red-500\">*</span>\n        </label>\n        <input\n          id=\"email\"\n          type=\"email\"\n          placeholder=\"your.email@example.com\"\n          className=\"h-10 w-full rounded-md border border-gray-300 bg-gray-50 px-3 text-sm outline-none focus:border-pink-400 focus:ring-1 focus:ring-pink-400\"\n          {...register(\"email\")}\n        />\n        {errors.email && (\n          <p className=\"text-xs text-red-600\">{errors.email.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-1\">\n        <label htmlFor=\"phone\" className=\"text-sm font-medium text-gray-700\">\n          Phone Number (Optional)\n        </label>\n        <input\n          id=\"phone\"\n          type=\"tel\"\n          placeholder=\"9812345678\"\n          className=\"h-10 w-full rounded-md border border-gray-300 bg-gray-50 px-3 text-sm outline-none focus:border-pink-400 focus:ring-1 focus:ring-pink-400\"\n          {...register(\"phone\")}\n        />\n        {errors.phone && (\n          <p className=\"text-xs text-red-600\">{errors.phone.message}</p>\n        )}\n      </div>\n\n      <div className=\"space-y-1\">\n        <label htmlFor=\"bio\" className=\"text-sm font-medium text-gray-700\">\n          Bio (Optional)\n        </label>\n        <textarea\n          id=\"bio\"\n          rows={4}\n          placeholder=\"Tell us about yourself...\"\n          className=\"w-full rounded-md border border-gray-300 bg-gray-50 px-3 py-2 text-sm outline-none focus:border-pink-400 focus:ring-1 focus:ring-pink-400 resize-none\"\n          {...register(\"bio\")}\n        />\n        {errors.bio && (\n          <p className=\"text-xs text-red-600\">{errors.bio.message}</p>\n        )}\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={pending}\n        className=\"h-10 w-full rounded-md bg-pink-400 text-white text-sm font-semibold hover:bg-pink-500 transition-colors disabled:opacity-60\"\n      >\n        {pending ? \"Updating Profile...\" : \"üíæ Update Profile\"}\n      </button>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 582, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/lib/api/axios.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:5000\";\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\naxiosInstance.interceptors.request.use((config) => {\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n  if (token && config.headers) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error(\"API Error:\", error.response?.data || error.message);\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosInstance;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,WAAW,6DAAwC;AAEzD,MAAM,gBAAgB,gJAAK,CAAC,MAAM,CAAC;IACjC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACtC,MAAM,QAAQ,sCAAgC,0BAAgC;IAC9E;;IAGA,OAAO;AACT;AAEA,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAC,WAAa,UACd,CAAC;IACC,QAAQ,KAAK,CAAC,cAAc,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;IACjE,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 610, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/lib/api/endpoint.ts"],"sourcesContent":["export const API = {\n  AUTH : {\n    REGISTER: \"/api/auth/register\",\n    LOGIN: \"/api/auth/login\",\n    ME: \"/api/auth/me\"\n  }\n}\n"],"names":[],"mappings":";;;;AAAO,MAAM,MAAM;IACjB,MAAO;QACL,UAAU;QACV,OAAO;QACP,IAAI;IACN;AACF"}},
    {"offset": {"line": 625, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/lib/api/auth.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n// Note: Actual backend API calls\nimport axios from \"./axios\"; // info: axios instance with base URL\nimport { API } from \"./endpoint\";\n\nexport const register = async(registerData: any) => {\n  try {\n    const response = await axios.post(API.AUTH.REGISTER, registerData);\n    return response.data; // response ko body (what backend returns)\n  } catch (error: Error | any) {\n    // info: if 4xx/5xx error, axios throws error\n    throw new Error(\n      error.response?.data?.message // backend error message\n      || error.message // general axios error message\n      || \"Registration Failed\" // fallback message\n    )\n  }\n}\n\nexport const login = async(loginData: any) => {\n  try {\n    const response = await axios.post(API.AUTH.LOGIN, loginData);\n    return response.data; // response ko body (what backend returns)\n  } catch (error: Error | any) {\n    // info: if 4xx/5xx error, axios throws error\n    throw new Error(\n      error.response?.data?.message // backend error message\n      || error.message // general axios error message\n      || \"Login Failed\" // fallback message\n    )\n  }\n}\n\nexport const getCurrentUser = async() => {\n  try {\n    const response = await axios.get(API.AUTH.ME);\n    return response.data;\n  } catch (error: Error | any) {\n    throw new Error(\n      error.response?.data?.message\n      || error.message\n      || \"Failed to fetch user\"\n    )\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA,qDAAqD,GACrD,iCAAiC;AACjC,mNAA6B,qCAAqC;AAClE;;;AAEO,MAAM,WAAW,OAAM;IAC5B,IAAI;QACF,MAAM,WAAW,MAAM,qIAAK,CAAC,IAAI,CAAC,oIAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;QACrD,OAAO,SAAS,IAAI,EAAE,0CAA0C;IAClE,EAAE,OAAO,OAAoB;QAC3B,6CAA6C;QAC7C,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,QAAQ,wBAAwB;YACnD,MAAM,OAAO,CAAC,8BAA8B;YAC5C,sBAAsB,mBAAmB;;IAEhD;AACF;AAEO,MAAM,QAAQ,OAAM;IACzB,IAAI;QACF,MAAM,WAAW,MAAM,qIAAK,CAAC,IAAI,CAAC,oIAAG,CAAC,IAAI,CAAC,KAAK,EAAE;QAClD,OAAO,SAAS,IAAI,EAAE,0CAA0C;IAClE,EAAE,OAAO,OAAoB;QAC3B,6CAA6C;QAC7C,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,QAAQ,wBAAwB;YACnD,MAAM,OAAO,CAAC,8BAA8B;YAC5C,eAAe,mBAAmB;;IAEzC;AACF;AAEO,MAAM,iBAAiB;IAC5B,IAAI;QACF,MAAM,WAAW,MAAM,qIAAK,CAAC,GAAG,CAAC,oIAAG,CAAC,IAAI,CAAC,EAAE;QAC5C,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAoB;QAC3B,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WACnB,MAAM,OAAO,IACb;IAEP;AACF"}},
    {"offset": {"line": 674, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/user/profile/client/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport ProfileForm from '../_components/ProfileForm';\nimport { getCurrentUser } from '@/lib/api/auth';\n\nexport default function ProfileClientPage() {\n  const router = useRouter();\n  const [user, setUser] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const userData = await getCurrentUser();\n        setUser(userData.user_data || userData.user || userData.data || userData);\n      } catch (error) {\n        console.error('Failed to fetch user:', error);\n        router.push('/login');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, [router]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading profile...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 py-12 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-gray-800 mb-2\">Your Profile</h1>\n          <p className=\"text-gray-600\">Manage your account information and preferences</p>\n        </div>\n        <ProfileForm\n          userId={user.id || user._id}\n          initialData={{\n            name: user.name,\n            email: user.email,\n            bio: user.bio,\n            phone: user.phone,\n            image: user.image || user.profileImage,\n          }}\n        />\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-500\">\n            Account created: {new Date(user.createdAt).toLocaleDateString()}\n          </p>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            Role: <span className=\"font-medium text-pink-600\">{user.role}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,WAAW,MAAM,IAAA,2IAAc;gBACrC,QAAQ,SAAS,SAAS,IAAI,SAAS,IAAI,IAAI,SAAS,IAAI,IAAI;YAClE,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,OAAO,IAAI,CAAC;YACd,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAE/B,8OAAC,uKAAW;oBACV,QAAQ,KAAK,EAAE,IAAI,KAAK,GAAG;oBAC3B,aAAa;wBACX,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK;wBACjB,KAAK,KAAK,GAAG;wBACb,OAAO,KAAK,KAAK;wBACjB,OAAO,KAAK,KAAK,IAAI,KAAK,YAAY;oBACxC;;;;;;8BAEF,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;;gCAAwB;gCACjB,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;sCAE/D,8OAAC;4BAAE,WAAU;;gCAA6B;8CAClC,8OAAC;oCAAK,WAAU;8CAA6B,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxE"}}]
}