{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/%28auth%29/dashboard/page.tsx"],"sourcesContent":["import { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\nimport Link from 'next/link';\n\nexport default async function UserDashboard() {\n  console.log('======= USER DASHBOARD LOADING =======');\n  \n  // ‚úÖ Get cookies on server\n  const cookieStore = await cookies();\n  const authToken = cookieStore.get('auth_token');\n  const userDataCookie = cookieStore.get('user_data');\n  \n  console.log('Auth Token exists:', !!authToken);\n  console.log('User Data Cookie exists:', !!userDataCookie);\n  \n  // ‚úÖ Check if user is logged in\n  if (!authToken || !userDataCookie) {\n    console.log('‚ùå Missing cookies, redirecting to login');\n    redirect('/login');\n  }\n\n  // ‚úÖ Parse user data from cookie\n  let userData = null;\n  try {\n    userData = JSON.parse(userDataCookie.value);\n    console.log('‚úÖ Parsed user data:', userData);\n    console.log('User role:', userData.role);\n    \n    // ‚úÖ If user is admin, redirect to admin dashboard\n    if (userData.role === 'admin') {\n      console.log('üîÑ Admin user detected, redirecting to admin dashboard');\n      redirect('/admin/dashboard');\n    }\n    \n    console.log('‚úÖ Regular user, showing dashboard');\n  } catch (error) {\n    console.error(\"‚ùå User data parse error:\", error);\n    redirect('/login');\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Navigation Bar */}\n      <nav className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between h-16\">\n            <div className=\"flex items-center\">\n              <Link href=\"/dashboard\" className=\"text-xl font-bold text-pink-400\">\n                Flower Blossom\n              </Link>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-sm text-gray-600\">{userData?.email}</span>\n              <Link\n                href=\"/login\"\n                className=\"text-sm text-gray-700 hover:text-pink-400\"\n              >\n                Logout\n              </Link>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto p-8\">\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n          <h1 className=\"text-3xl font-bold text-gray-800\">User Dashboard</h1>\n          <p className=\"mt-2 text-gray-600\">\n            Welcome back, {userData?.firstName || userData?.username || userData?.email || 'User'}!\n          </p>\n        </div>\n\n        {/* Dashboard Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {/* Profile Information Card */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">\n              Profile Information\n            </h2>\n            <div className=\"space-y-3\">\n              <div>\n                <p className=\"text-xs text-gray-500\">Email</p>\n                <p className=\"text-sm text-gray-800\">{userData?.email}</p>\n              </div>\n              <div>\n                <p className=\"text-xs text-gray-500\">Username</p>\n                <p className=\"text-sm text-gray-800\">{userData?.username || 'Not set'}</p>\n              </div>\n              <div>\n                <p className=\"text-xs text-gray-500\">Role</p>\n                <p className=\"text-sm text-gray-800 capitalize\">{userData?.role}</p>\n              </div>\n            </div>\n            <Link\n              href=\"/dashboard/profile\"\n              className=\"mt-4 block w-full text-center px-4 py-2 bg-pink-400 text-white rounded hover:bg-pink-500 text-sm\"\n            >\n              Edit Profile\n            </Link>\n          </div>\n\n          {/* Quick Actions Card */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">Quick Actions</h2>\n            <div className=\"space-y-2\">\n              <Link\n                href=\"/dashboard/cart\"\n                className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded\"\n              >\n                üõí View Cart\n              </Link>\n              <Link\n                href=\"/dashboard/checkout\"\n                className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded\"\n              >\n                üí≥ Checkout\n              </Link>\n              <Link\n                href=\"/dashboard/profile\"\n                className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded\"\n              >\n                ‚öôÔ∏è Settings\n              </Link>\n            </div>\n          </div>\n\n          {/* Recent Activity Card */}\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h2 className=\"text-lg font-semibold text-gray-700 mb-4\">\n              Recent Activity\n            </h2>\n            <p className=\"text-sm text-gray-600\">No recent activity</p>\n          </div>\n        </div>\n\n        {/* Browse Products Section */}\n        <div className=\"mt-8\">\n          <div className=\"bg-gradient-to-r from-pink-200 to-pink-300 rounded-2xl p-12 text-center\">\n            <h2 className=\"text-3xl font-bold text-gray-800 mb-4\">Browse Our Flowers</h2>\n            <p className=\"text-gray-700 mb-6 max-w-2xl mx-auto\">\n              Discover our beautiful collection of fresh flowers, perfect for every occasion.\n            </p>\n            <Link\n              href=\"/dashboard/catalog\"\n              className=\"inline-block px-8 py-3 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition\"\n            >\n              View All Products ‚Üí\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}