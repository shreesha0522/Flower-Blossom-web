{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/lib/api/axios.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:5000\";\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\naxiosInstance.interceptors.request.use((config) => {\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n  if (token && config.headers) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\naxiosInstance.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    console.error(\"API Error:\", error.response?.data || error.message);\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosInstance;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,WAAW,6DAAwC;AAEzD,MAAM,gBAAgB,gJAAK,CAAC,MAAM,CAAC;IACjC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACtC,MAAM,QAAQ,sCAAgC,0BAAgC;IAC9E;;IAGA,OAAO;AACT;AAEA,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAC,WAAa,UACd,CAAC;IACC,QAAQ,KAAK,CAAC,cAAc,MAAM,QAAQ,EAAE,QAAQ,MAAM,OAAO;IACjE,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/lib/api/endpoint.ts"],"sourcesContent":["export const API = {\n  AUTH : {\n    REGISTER: \"/api/auth/register\",\n    LOGIN: \"/api/auth/login\",\n    ME: \"/api/auth/me\"\n  }\n}\n"],"names":[],"mappings":";;;;AAAO,MAAM,MAAM;IACjB,MAAO;QACL,UAAU;QACV,OAAO;QACP,IAAI;IACN;AACF"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/lib/api/auth.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n// Note: Actual backend API calls\nimport axios from \"./axios\"; // info: axios instance with base URL\nimport { API } from \"./endpoint\";\n\nexport const register = async(registerData: any) => {\n  try {\n    const response = await axios.post(API.AUTH.REGISTER, registerData);\n    return response.data; // response ko body (what backend returns)\n  } catch (error: Error | any) {\n    // info: if 4xx/5xx error, axios throws error\n    throw new Error(\n      error.response?.data?.message // backend error message\n      || error.message // general axios error message\n      || \"Registration Failed\" // fallback message\n    )\n  }\n}\n\nexport const login = async(loginData: any) => {\n  try {\n    const response = await axios.post(API.AUTH.LOGIN, loginData);\n    return response.data; // response ko body (what backend returns)\n  } catch (error: Error | any) {\n    // info: if 4xx/5xx error, axios throws error\n    throw new Error(\n      error.response?.data?.message // backend error message\n      || error.message // general axios error message\n      || \"Login Failed\" // fallback message\n    )\n  }\n}\n\nexport const getCurrentUser = async() => {\n  try {\n    const response = await axios.get(API.AUTH.ME);\n    return response.data;\n  } catch (error: Error | any) {\n    throw new Error(\n      error.response?.data?.message\n      || error.message\n      || \"Failed to fetch user\"\n    )\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA,qDAAqD,GACrD,iCAAiC;AACjC,wMAA6B,qCAAqC;AAClE;;;AAEO,MAAM,WAAW,OAAM;IAC5B,IAAI;QACF,MAAM,WAAW,MAAM,8HAAK,CAAC,IAAI,CAAC,6HAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;QACrD,OAAO,SAAS,IAAI,EAAE,0CAA0C;IAClE,EAAE,OAAO,OAAoB;QAC3B,6CAA6C;QAC7C,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,QAAQ,wBAAwB;YACnD,MAAM,OAAO,CAAC,8BAA8B;YAC5C,sBAAsB,mBAAmB;;IAEhD;AACF;AAEO,MAAM,QAAQ,OAAM;IACzB,IAAI;QACF,MAAM,WAAW,MAAM,8HAAK,CAAC,IAAI,CAAC,6HAAG,CAAC,IAAI,CAAC,KAAK,EAAE;QAClD,OAAO,SAAS,IAAI,EAAE,0CAA0C;IAClE,EAAE,OAAO,OAAoB;QAC3B,6CAA6C;QAC7C,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,QAAQ,wBAAwB;YACnD,MAAM,OAAO,CAAC,8BAA8B;YAC5C,eAAe,mBAAmB;;IAEzC;AACF;AAEO,MAAM,iBAAiB;IAC5B,IAAI;QACF,MAAM,WAAW,MAAM,8HAAK,CAAC,GAAG,CAAC,6HAAG,CAAC,IAAI,CAAC,EAAE;QAC5C,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAoB;QAC3B,MAAM,IAAI,MACR,MAAM,QAAQ,EAAE,MAAM,WACnB,MAAM,OAAO,IACb;IAEP;AACF"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/lib/cookie.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\"use server\";\nimport { cookies } from \"next/headers\";\nexport const setAuthToken = async (token: string) => {\n    const cookieStore = await cookies();\n    cookieStore.set({name: \"auth_token\", value: token});\n}\nexport const getAuthToken = async () => {\n    const cookieStore = await cookies();\n    return cookieStore.get(\"auth_token\")?.value || null;\n}\nexport const setUserData = async (userData: any ) => {\n    const cookieStore = await cookies();\n    // cookie can only store string values\n    cookieStore.set({name: \"user_data\", value: JSON.stringify(userData)});\n}\nexport const getUserData = async () => {\n    const cookieStore = await cookies();\n    const data = cookieStore.get(\"user_data\")?.value || null;\n    return data ? JSON.parse(data) : null;\n}\nexport const clearAuthCookies = async () => {\n    const cookieStore = await cookies();\n    cookieStore.delete(\"auth_token\");\n    cookieStore.delete(\"user_data\");\n}"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;;;;;;;;AAErD;;;;AACO,MAAM,eAAe,OAAO;IAC/B,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,YAAY,GAAG,CAAC;QAAC,MAAM;QAAc,OAAO;IAAK;AACrD;AACO,MAAM,eAAe;IACxB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,OAAO,YAAY,GAAG,CAAC,eAAe,SAAS;AACnD;AACO,MAAM,cAAc,OAAO;IAC9B,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,sCAAsC;IACtC,YAAY,GAAG,CAAC;QAAC,MAAM;QAAa,OAAO,KAAK,SAAS,CAAC;IAAS;AACvE;AACO,MAAM,cAAc;IACvB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,OAAO,YAAY,GAAG,CAAC,cAAc,SAAS;IACpD,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ;AACrC;AACO,MAAM,mBAAmB;IAC5B,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,YAAY,MAAM,CAAC;IACnB,YAAY,MAAM,CAAC;AACvB;;;IAtBa;IAIA;IAIA;IAKA;IAKA;;AAlBA,+OAAA;AAIA,+OAAA;AAIA,+OAAA;AAKA,+OAAA;AAKA,+OAAA"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/lib/action/auth-action.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\"use server\";\n\nimport { login, register } from \"../api/auth\";\nimport { setAuthToken, setUserData } from \"../cookie\";\n\nexport type AuthResponse<T = any> = {\n  success: boolean;\n  message: string;\n  data?: T;\n};\n\n// ===== HANDLE REGISTER =====\nexport const handleRegister = async (formData: any): Promise<AuthResponse> => {\n  try {\n    // send data to backend API\n    const res = await register(formData);\n\n    if (res.success) {\n      // optionally, you could also set cookie after register if needed\n      // e.g., automatically log in after register\n      return {\n        success: true,\n        data: res.data,\n        message: \"Registration successful\",\n      };\n    }\n\n    return { success: false, message: res.message || \"Registration failed\" };\n  } catch (error: Error | any) {\n    console.error(\"Register error:\", error);\n    return { success: false, message: error.message || \"Registration failed\" };\n  }\n};\n\n// ===== HANDLE LOGIN =====\nexport const handleLogin = async (formData: any): Promise<AuthResponse> => {\n  try {\n    const res = await login(formData);\n\n    if (res.success) {\n      const token = res.token;\n\n      // store JWT token in cookie\n      await setAuthToken(token);\n\n      // store user data in cookie\n      await setUserData(res.data);\n\n      return {\n        success: true,\n        data: res.data,\n        message: \"Login successful\",\n      };\n    }\n\n    return { success: false, message: res.message || \"Login failed\" };\n  } catch (error: Error | any) {\n    console.error(\"Login error:\", error);\n    return { success: false, message: error.message || \"Login failed\" };\n  }\n};\n"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;;AAGrD;AACA;;;;;AASO,MAAM,iBAAiB,OAAO;IACnC,IAAI;QACF,2BAA2B;QAC3B,MAAM,MAAM,MAAM,IAAA,8HAAQ,EAAC;QAE3B,IAAI,IAAI,OAAO,EAAE;YACf,iEAAiE;YACjE,4CAA4C;YAC5C,OAAO;gBACL,SAAS;gBACT,MAAM,IAAI,IAAI;gBACd,SAAS;YACX;QACF;QAEA,OAAO;YAAE,SAAS;YAAO,SAAS,IAAI,OAAO,IAAI;QAAsB;IACzE,EAAE,OAAO,OAAoB;QAC3B,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO;YAAE,SAAS;YAAO,SAAS,MAAM,OAAO,IAAI;QAAsB;IAC3E;AACF;AAGO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,MAAM,MAAM,IAAA,2HAAK,EAAC;QAExB,IAAI,IAAI,OAAO,EAAE;YACf,MAAM,QAAQ,IAAI,KAAK;YAEvB,4BAA4B;YAC5B,MAAM,IAAA,6HAAY,EAAC;YAEnB,4BAA4B;YAC5B,MAAM,IAAA,4HAAW,EAAC,IAAI,IAAI;YAE1B,OAAO;gBACL,SAAS;gBACT,MAAM,IAAI,IAAI;gBACd,SAAS;YACX;QACF;QAEA,OAAO;YAAE,SAAS;YAAO,SAAS,IAAI,OAAO,IAAI;QAAe;IAClE,EAAE,OAAO,OAAoB;QAC3B,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO;YAAE,SAAS;YAAO,SAAS,MAAM,OAAO,IAAI;QAAe;IACpE;AACF;;;IAhDa;IAuBA;;AAvBA,+OAAA;AAuBA,+OAAA"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/.next-internal/server/app/%28auth%29/login/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {handleLogin as '40109a65e9e26eadb40c114ea920a026c8012f7cfa'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}