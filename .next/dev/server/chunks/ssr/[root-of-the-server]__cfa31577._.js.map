{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/%28auth%29/dashboard/layout.tsx"],"sourcesContent":["\"use client\";\nimport { ReactNode, useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function DashboardLayout({ children }: { children: ReactNode }) {\n  const router = useRouter();\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const [cartCount] = useState(3);\n  const [user, setUser] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check authentication on component mount\n    const authToken = localStorage.getItem(\"authToken\");\n    const userData = localStorage.getItem(\"user\");\n\n    if (!authToken || !userData) {\n      // Not logged in, redirect to login page\n      router.push(\"/login\");\n      return;\n    }\n\n    // Parse and set user data\n    try {\n      const parsedUser = JSON.parse(userData);\n      setUser(parsedUser);\n    } catch (error) {\n      console.error(\"Error parsing user data:\", error);\n      router.push(\"/login\");\n      return;\n    }\n\n    setLoading(false);\n  }, [router]);\n\n  const handleLogout = () => {\n    // Clear authentication data\n    localStorage.removeItem(\"authToken\");\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"rememberMe\");\n    \n    // Redirect to login\n    router.push(\"/login\");\n  };\n\n  // Show loading state while checking authentication\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-pink-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-5xl mb-4 animate-bounce\">ðŸŒ¸</div>\n          <p className=\"text-pink-500 text-lg font-medium\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // If no user data, don't render (will redirect)\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-pink-50\">\n      <nav className=\"bg-white shadow-sm border-b border-pink-100\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <Link href=\"/dashboard\" className=\"flex items-center gap-2 text-pink-500 font-bold text-xl\">\n              ðŸŒ¸ <span>Flower Blossom</span>\n            </Link>\n\n            <div className=\"hidden md:flex gap-8 text-gray-600 font-medium\">\n              <Link href=\"/dashboard\" className=\"hover:text-pink-500 transition\">\n                Home\n              </Link>\n              <Link href=\"/dashboard/catalog\" className=\"hover:text-pink-500 transition\">\n                Catalog\n              </Link>\n              <Link href=\"/dashboard/orders\" className=\"hover:text-pink-500 transition\">\n                My Orders\n              </Link>\n            </div>\n\n            <div className=\"flex items-center gap-4\">\n              <Link href=\"/dashboard/cart\" className=\"relative p-2 hover:bg-pink-50 rounded-full transition\">\n                ðŸ›’\n                {cartCount > 0 && (\n                  <span className=\"absolute -top-1 -right-1 bg-pink-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full\">\n                    {cartCount}\n                  </span>\n                )}\n              </Link>\n\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowProfileMenu(!showProfileMenu)}\n                  className=\"flex items-center gap-2 p-2 hover:bg-pink-50 rounded-full transition\"\n                >\n                  <span className=\"text-2xl\">ðŸ‘¤</span>\n                  <span className=\"hidden md:inline text-sm font-medium text-gray-700\">\n                    {user.name || user.username}\n                  </span>\n                </button>\n\n                {showProfileMenu && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 border border-pink-100 z-50\">\n                    <div className=\"px-4 py-3 border-b border-pink-100\">\n                      <p className=\"text-sm font-semibold text-gray-800\">\n                        {user.name || user.username}\n                      </p>\n                      <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\n                    </div>\n\n                    <Link\n                      href=\"/dashboard/profile\"\n                      className=\"block px-4 py-2 text-gray-700 hover:bg-pink-50 transition\"\n                      onClick={() => setShowProfileMenu(false)}\n                    >\n                      ðŸ‘¤ Profile\n                    </Link>\n                    <Link\n                      href=\"/dashboard/orders\"\n                      className=\"block px-4 py-2 text-gray-700 hover:bg-pink-50 transition\"\n                      onClick={() => setShowProfileMenu(false)}\n                    >\n                      ðŸ“¦ Orders\n                    </Link>\n                    <hr className=\"my-2 border-pink-100\" />\n                    <button\n                      onClick={handleLogout}\n                      className=\"w-full text-left px-4 py-2 text-red-600 hover:bg-pink-50 transition\"\n                    >\n                      ðŸšª Logout\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">{children}</main>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}