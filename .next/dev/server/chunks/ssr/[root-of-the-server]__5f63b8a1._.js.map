{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/user/profile/_components/ProfileForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/user/profile/_components/ProfileForm.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/user/profile/_components/ProfileForm.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","ignoreList":[0]}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/user/profile/_components/ProfileForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/user/profile/_components/ProfileForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/user/profile/_components/ProfileForm.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","ignoreList":[0]}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///Users/shreeshashrestha/Desktop/untitled%20folder/Flower%20Bloosom%20web/src/app/user/profile/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport { cookies } from \"next/headers\";\nimport ProfileForm from \"./_components/ProfileForm\";\n\n// Get current authenticated user\nasync function getCurrentUser() {\n  try {\n    const cookieStore = await cookies();\n    const auth_token = cookieStore.get(\"auth_token\");\n    \n    if (!auth_token) {\n      console.log(\"No auth_token found in cookies\");\n      return null;\n    }\n\n    // Fetch user data from your backend\n    const apiUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n    const response = await fetch(`${apiUrl}/api/auth/me`, {\n      method: \"GET\",\n      headers: {\n        Cookie: `auth_token=${auth_token.value}`,\n      },\n      credentials: \"include\",\n      cache: \"no-store\",\n    });\n\n    if (!response.ok) {\n      console.log(\"Failed to fetch user:\", response.status);\n      return null;\n    }\n\n    const data = await response.json();\n    \n    // Return user_data based on your backend structure\n    return data.user_data || data.user || data.data || data;\n  } catch (error) {\n    console.error(\"Auth error:\", error);\n    return null;\n  }\n}\n\nexport default async function ProfilePage() {\n  // Get current user\n  const user = await getCurrentUser();\n\n  // Redirect to login if not authenticated\n  if (!user) {\n    redirect(\"/login\");\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-pink-50 via-white to-purple-50 py-12 px-4\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Page Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-gray-800 mb-2\">\n            Your Profile\n          </h1>\n          <p className=\"text-gray-600\">\n            Manage your account information and preferences\n          </p>\n        </div>\n\n        {/* Profile Form */}\n        <ProfileForm\n          userId={user.id || user._id}\n          initialData={{\n            name: user.name,\n            email: user.email,\n            bio: user.bio,\n            phone: user.phone,\n            image: user.image || user.profileImage,\n          }}\n        />\n\n        {/* Additional Info */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-500\">\n            Account created: {new Date(user.createdAt).toLocaleDateString()}\n          </p>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            Role: <span className=\"font-medium text-pink-600\">{user.role}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAEA,iCAAiC;AACjC,eAAe;IACb,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,0IAAO;QACjC,MAAM,aAAa,YAAY,GAAG,CAAC;QAEnC,IAAI,CAAC,YAAY;YACf,QAAQ,GAAG,CAAC;YACZ,OAAO;QACT;QAEA,oCAAoC;QACpC,MAAM,SAAS,6DAAmC;QAClD,MAAM,WAAW,MAAM,MAAM,GAAG,OAAO,YAAY,CAAC,EAAE;YACpD,QAAQ;YACR,SAAS;gBACP,QAAQ,CAAC,WAAW,EAAE,WAAW,KAAK,EAAE;YAC1C;YACA,aAAa;YACb,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,QAAQ,GAAG,CAAC,yBAAyB,SAAS,MAAM;YACpD,OAAO;QACT;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,mDAAmD;QACnD,OAAO,KAAK,SAAS,IAAI,KAAK,IAAI,IAAI,KAAK,IAAI,IAAI;IACrD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,eAAe;QAC7B,OAAO;IACT;AACF;AAEe,eAAe;IAC5B,mBAAmB;IACnB,MAAM,OAAO,MAAM;IAEnB,yCAAyC;IACzC,IAAI,CAAC,MAAM;QACT,IAAA,iMAAQ,EAAC;IACX;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAwC;;;;;;sCAGtD,8OAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAM/B,8OAAC,uKAAW;oBACV,QAAQ,KAAK,EAAE,IAAI,KAAK,GAAG;oBAC3B,aAAa;wBACX,MAAM,KAAK,IAAI;wBACf,OAAO,KAAK,KAAK;wBACjB,KAAK,KAAK,GAAG;wBACb,OAAO,KAAK,KAAK;wBACjB,OAAO,KAAK,KAAK,IAAI,KAAK,YAAY;oBACxC;;;;;;8BAIF,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;;gCAAwB;gCACjB,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;sCAE/D,8OAAC;4BAAE,WAAU;;gCAA6B;8CAClC,8OAAC;oCAAK,WAAU;8CAA6B,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMxE"}}]
}